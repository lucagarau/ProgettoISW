<head>
    <title>Rifugio del Gatto Bosisio</title>
    {% load static %}
    {% load bootstrap5 %}
    {% bootstrap_css %}
    <style>

      .titolo{
        width: 100vw;
      }

      .hide-disabled{
        display: none;
      }
    </style>
    {% bootstrap_javascript %}
</head>

<body>
    


    <header class="p-3 mb-2 bg-secondary bg-gradient text-white d-flex">
      <div class=" titolo row h-100 justify-content-center align-items-center">
        <h1 class="text-center m-3">Benvenuto nel rifugio del Gatto bosisio</h1>
      </div>
      <a class="btn btn-primary" href="/logout" role="button">Logout</a>
    </header>

        <!--Dropdown Filtra-->
        <div class="p-3 btn-group" >
          <button type="button" class="btn btn-primary dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false" id="filtra">
          Filtra
          </button>
          <ul class="dropdown-menu" style="min-width:300px;">
          <li><nav class="navbar bg-body-tertiary">
              <div class="container-fluid">
                <form class="d-flex" role="search">
                  <!--input e bottone Eta-->  
                  <input class="form-control me-2" type="ageSearch" placeholder="Età" aria-label="Età">
                  <button class="btn btn-outline-success" type="submit">Search</button>
                </form>
              </div>
            </nav></li>
          <li><nav class="navbar bg-body-tertiary">
              <div class="container-fluid">
                <form class="d-flex" role="search">
                  <!--input e bottone Specie-->
                  <input class="form-control me-2" type="speciesSearch" placeholder="Specie" aria-label="Specie">
                  <button class="btn btn-outline-success" type="submit">Search</button>
                </form>
              </div>
            </nav></li>
          <li><nav class="navbar bg-body-tertiary">
              <div class="container-fluid">
                <form class="d-flex" role="search">
                  <!--input e bottone Razza-->
                  <input class="form-control me-2" type="raceSearch" placeholder="Razza" aria-label="Razza">
                  <button class="btn btn-outline-success" type="submit">Search</button>
                </form>
              </div>
            </nav></li>
          </ul>
        </div>
        <div class="row justify-content-center" style="width: 100vw;">
          <h3 class="text-center m-3" id="warning">Non ci sono animali</h3>
        </div>

    


        <!--INIZIO NONTOCCARE-->
        {% if lista_animali %}
       
            
            <div class="p-4">
            <table class="table table-bordered table-sm table-responsive">
                <thead>
                    <tr class="table-primary">
                        <th>Specie</th>
                        <th>Razza</th>
                        <th>Età</th>
                        <th>descrizione</th>
                        <th>Azione</th>
                    </tr>
                </thead>
                
                <tbody>
                    {% for animali in lista_animali %}
                      {% if animali.stato != "ADOTTATO"%}
                        <tr class="table-light">
                            <td>{{ animali.specie }}</td>
                            <td>{{ animali.razza }}</td>
                            <td>{{ animali.eta }}</td>
                            <td>{{ animali.descrizione }}</td>
                            <td><a href="/modulo_adozione/{{ animali.id }}/">Adotta</a></td> 
                            
                        </tr>
                      {% endif %}
                    {% endfor %}
                </tbody>

            </table>
          <script>
            //Attiva il pulsante filtra quando ci sono animali
            //TODO da testare in caso prima non ci siano animali e poi ci siano e viceversa
            var filtra = document.getElementById('filtra');
            var message = document.getElementById('warning');
            message.classList.add('hide-disabled');
            filtra.classList.remove('hide-disabled');
          </script>
        {% else %}
          <script>
            //Disattiva il pulsante filtra quando non ci sono animali
            var filtra = document.getElementById('filtra');
            var message = document.getElementById('warning');
            message.classList.remove('hide-disabled');
            filtra.classList.add('hide-disabled');
          </script>
        {% endif %}
        <!--FINE NONTOCCARE-->
  
</body>